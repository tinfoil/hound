App.factory 'StripeCheckout', ->
  open: (options, successCallback) ->
    StripeCheckout.configure(
      key: Hound.settings.stripePublishableKey,
      image: '<%= image_path('icon.svg') %>',
      token: successCallback
    ).open(
      angular.extend(
        options,
        email: Hound.settings.userEmailAddress,
        panelLabel: options.buttonText || '{{amount}} per month',
        allowRememberMe: false
      )
    )
